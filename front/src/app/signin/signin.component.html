<div class="flex flex-col items-center justify-center h-3/4">
  <p class="mb-5 text-center">Votre compte vous ouvre les portes d'une communauté de développeurs. Connectez-vous dès maintenant.</p>
  <form class="flex flex-col space-y-5 min-w-96 max-w-lg" [formGroup]="loginForm">
    <mat-form-field appearance="fill">
      <mat-label>Nom d'utilisateur</mat-label>
      <input matInput formControlName="username">
      <mat-hint>Ex: jeandupont</mat-hint>
      @if (loginForm.controls['username'].errors?.['required']) {
        <mat-error>*Le nom d'utilisateur est requis</mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Mot de passe</mat-label>
      <input matInput [type]="hide() ? 'password' : 'text'" formControlName="password">
      <button
        mat-icon-button
        matSuffix
        (click)="togglePasswordVisibility($event)"
        [attr.aria-label]="'Changer la visibilité du mot de passe'"
        [attr.aria-pressed]="hide()">
        <mat-icon>{{ hide() ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
      @if (loginForm.controls['password'].errors?.['required']) {
        <mat-error>*Le mot de passe est requis</mat-error>
      }
    </mat-form-field>

    <button mat-raised-button type="submit" color="primary" [disabled]="loginForm.invalid" (click)="signin()">Se connecter</button>
    <button mat-raised-button type="submit" color="primary" (click)="openDialog()">Mot de passe oublié</button>
  </form>
</div>

